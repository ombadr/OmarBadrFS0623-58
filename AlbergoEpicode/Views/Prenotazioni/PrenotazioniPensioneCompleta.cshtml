
@{
    ViewBag.Title = "Prenotazioni Pensione Completa";
}

<h2 class="mb-3">Prenotazioni Pensione Completa</h2>

<div class="container p-0">
    <div class="row">
        <div class="col-md-12">
            <button id="caricaPensioneCompleta" class="btn btn-success">Carica Numero di Prenotazioni Pensione Completa</button>
            <div id="risultatoPensioneCompleta" class="mt-3"></div>
        </div>
    </div>
</div>

@section Scripts {
    <script>
        $(document).ready(function () {
            $("#caricaPensioneCompleta").click(function () {
                $.ajax({
                    url: '@Url.Action("ConteggioPensioneCompleta", "Prenotazioni")',
                    type: 'GET',
                    success: function (data) {
                        $("#risultatoPensioneCompleta").html(`<p class="alert alert-success">Totale prenotazioni con pensione completa: <strong>${data.TotalePensioneCompleta}</strong></p>`);
                    },
                    error: function () {
                        $("#risultatoPensioneCompleta").html('<p class="alert alert-danger">Errore nel caricamento dei dati.</p>');
                    }
                });
            });
        });
    </script>
}